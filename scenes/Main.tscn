[gd_scene load_steps=10 format=3 uid="uid://cq7bwoqn6xemn"]

[ext_resource type="PackedScene" uid="uid://hw103vyho245" path="res://prefabs/Player.tscn" id="1_i8of0"]
[ext_resource type="Script" path="res://scripts/GameControl.gd" id="1_kqbs3"]
[ext_resource type="TileSet" uid="uid://tuw6rbxhuq2g" path="res://scenes/Main.tres" id="2_sn23d"]
[ext_resource type="PackedScene" uid="uid://kvixyxercbpg" path="res://prefabs/Grunt.tscn" id="3_msbdl"]
[ext_resource type="Texture2D" uid="uid://ctgwv28mi3o1w" path="res://sprites/HUD.png" id="4_qes08"]
[ext_resource type="Texture2D" uid="uid://d2n44qjryk4ol" path="res://sprites/white.png" id="5_sjbhb"]
[ext_resource type="Script" path="res://scripts/HealthUI.gd" id="5_w38kq"]
[ext_resource type="PackedScene" uid="uid://bp0si4n5qf2wg" path="res://prefabs/CameraTrigger.tscn" id="8_aoniw"]
[ext_resource type="PackedScene" uid="uid://f14ls0xpn05r" path="res://prefabs/Text.tscn" id="9_1slm2"]

[node name="GameControl" type="Node2D" node_paths=PackedStringArray("room_cameras")]
y_sort_enabled = true
texture_filter = 1
script = ExtResource("1_kqbs3")
room_cameras = [NodePath("Room1/Camera2D"), NodePath("Room2/Camera2D"), NodePath("Room3/Camera2D"), NodePath("Room4/Camera2D")]

[node name="TileMap" type="TileMap" parent="."]
y_sort_enabled = true
rotation = -0.000138702
tile_set = ExtResource("2_sn23d")
format = 2
layer_0/y_sort_enabled = true
layer_0/tile_data = PackedInt32Array(393230, 65538, 3, 393229, 65538, 3, 393228, 65538, 3, 393227, 65538, 3, 393226, 65538, 3, 393225, 65538, 3, 393224, 65538, 3, 393223, 65538, 3, 393222, 65538, 3, 393221, 65538, 3, 393220, 65538, 3, 393219, 65538, 3, 524290, 65538, 3, 524291, 65538, 3, 524292, 65538, 3, 524293, 65538, 3, 524294, 65538, 3, 524295, 65538, 3, 524296, 65538, 3, 524297, 65538, 3, 524298, 65538, 3, 524299, 65538, 3, 524300, 65538, 3, 524301, 65538, 3, 524302, 65538, 3, 524303, 65538, 3, 524304, 65538, 3, 524305, 65538, 3, 524306, 65538, 3, 524307, 393218, 0, 589844, 65538, 3, 524312, 65538, 3, 589846, 65538, 3, 589847, 393218, 1, 524313, 65538, 3, 524314, 65538, 3, 524315, 65538, 3, 524316, 65538, 3, 393231, 65538, 3, 393232, 65538, 3, 393233, 65538, 3, 393234, 65538, 3, 393235, 393218, 1, 327700, 65538, 3, 327701, 65538, 3, 327702, 65538, 3, 327703, 393218, 0, 393242, 65538, 3, 393243, 65538, 3, 393244, 65538, 3, 589843, 327682, 1, 589845, 65538, 3, 524311, 327682, 0, 327699, 327682, 0, 393239, 327682, 1, 393240, 65538, 3, 393241, 65538, 3, 524317, 65538, 3, 393245, 65538, 3, 524318, 65538, 3, 393246, 65538, 3, 524319, 65538, 3, 524320, 393218, 0, 589856, 2, 5, 393247, 65538, 3, 393248, 393218, 1, 327712, 2, 5, 655392, 327682, 1, 655393, 65538, 3, 655394, 65538, 3, 655395, 65538, 3, 655396, 65538, 3, 655397, 65538, 3, 262180, 327682, 1, 196644, 2, 5, 262178, 393218, 1, 196642, 2, 5, 458790, 2, 5, 327718, 2, 5, 393254, 2, 5, 524326, 2, 5, 589862, 2, 5, 655398, 393218, 1, 262177, 65538, 3, 262176, 327682, 0, 262181, 65538, 3, 262182, 393218, 0, 131106, 2, 5, 65570, 2, 5, 65572, 2, 5, 131108, 2, 5, 34, 2, 5, 36, 2, 5, -65507, 65538, 3, -65496, 393218, 1, -131032, 2, 5, -196568, 2, 5, -262104, 2, 5, -327640, 2, 5, -393176, 2, 5, -458712, 2, 5, -524248, 2, 5, -589784, 2, 5, -655320, 2, 5, -720856, 2, 5, -65497, 65538, 3, -65500, 327682, 0, -65499, 65538, 3, -65498, 65538, 3, -65506, 65538, 3, -65505, 65538, 3, -65504, 65538, 3, -65503, 65538, 3, -65502, 393218, 0, -196571, 393218, 3, -262112, 327682, 3, -393182, 458754, 3, -655327, 393218, 2, -65508, 65538, 3, -65509, 65538, 3, -65510, 327682, 1, -196582, 2, 5, -262118, 2, 5, -327654, 2, 5, -393190, 2, 5, -458726, 2, 5, -524262, 2, 5, -131046, 2, 5, -589798, 2, 5, -655334, 2, 5, -720870, 2, 5, -851942, 327682, 0, -786406, 2, 5, -851941, 65538, 3, -851940, 65538, 3, -851939, 65538, 3, -851938, 65538, 3, -851937, 65538, 3, -851936, 65538, 3, -851935, 65538, 3, -851934, 65538, 3, -851933, 65538, 3, -851932, 65538, 3, -851931, 65538, 3, -851930, 65538, 3, -851929, 65538, 3, -851928, 393218, 0, -786392, 2, 5, -655322, 327682, 3, -720868, 393218, 3, -524258, 327682, 2, -327652, 393218, 3, 524289, 327682, 1, 458753, 2, 5, 393217, 327682, 0, 393218, 65538, 3)

[node name="Player" parent="." instance=ExtResource("1_i8of0")]
y_sort_enabled = true
position = Vector2(40, 120)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="CanvasLayer"]
texture_filter = 1
layout_mode = 3
anchors_preset = 0

[node name="Hud" type="Sprite2D" parent="CanvasLayer/Control"]
position = Vector2(128, 120)
texture = ExtResource("4_qes08")

[node name="HealthUI" type="Control" parent="CanvasLayer/Control" node_paths=PackedStringArray("host_health_bar", "parasite_health_bar", "text")]
anchors_preset = 0
offset_left = 9.0
offset_top = 8.0
offset_right = 71.0
offset_bottom = 23.0
script = ExtResource("5_w38kq")
host_health_bar = NodePath("HostHealth")
parasite_health_bar = NodePath("ParasiteHealth")
text = NodePath("HostHealth/Text")

[node name="HostHealth" type="TextureProgressBar" parent="CanvasLayer/Control/HealthUI"]
layout_mode = 0
offset_left = 1.0
offset_top = 1.0
offset_right = 61.0
offset_bottom = 9.0
nine_patch_stretch = true
texture_progress = ExtResource("5_sjbhb")

[node name="Text" parent="CanvasLayer/Control/HealthUI/HostHealth" instance=ExtResource("9_1slm2")]
layout_mode = 1
offset_top = 4.0
offset_right = 0.0
offset_bottom = -4.0
alignment = 1
text = "No Host"

[node name="ParasiteHealth" type="TextureProgressBar" parent="CanvasLayer/Control/HealthUI"]
layout_mode = 0
offset_left = 1.0
offset_top = 12.0
offset_right = 61.0
offset_bottom = 14.0
value = 50.0
nine_patch_stretch = true
texture_progress = ExtResource("5_sjbhb")
tint_progress = Color(0.698039, 0.0627451, 0.188235, 1)

[node name="Grunt" parent="." instance=ExtResource("3_msbdl")]
position = Vector2(216, 120)
start_health = 4
dead = true

[node name="Grunt2" parent="." instance=ExtResource("3_msbdl")]
z_as_relative = false
position = Vector2(344, 120)
spawn_direction = Vector2(-1, 2.08165e-12)

[node name="Grunt3" parent="." instance=ExtResource("3_msbdl")]
position = Vector2(568, 120)
spawn_direction = Vector2(-1, 2.08165e-12)

[node name="Room1" type="Node2D" parent="."]

[node name="Camera2D" type="Camera2D" parent="Room1"]
position = Vector2(120, 136)

[node name="CameraTrigger" parent="Room1" node_paths=PackedStringArray("game_controller") instance=ExtResource("8_aoniw")]
position = Vector2(232, 120)
rotation = -1.5708
game_controller = NodePath("../..")

[node name="Room2" type="Node2D" parent="."]
z_as_relative = false

[node name="Camera2D" type="Camera2D" parent="Room2"]
position = Vector2(344, 136)

[node name="Room3" type="Node2D" parent="."]

[node name="Camera2D" type="Camera2D" parent="Room3"]
position = Vector2(568, 136)

[node name="CameraCrigger" parent="Room3" node_paths=PackedStringArray("game_controller") instance=ExtResource("8_aoniw")]
position = Vector2(456, 120)
rotation = -1.5708
game_controller = NodePath("../..")

[node name="Room4" type="Node2D" parent="."]

[node name="Camera2D" type="Camera2D" parent="Room4"]
position = Vector2(536, -88)

[node name="CameraCrigger" parent="Room4" node_paths=PackedStringArray("game_controller") instance=ExtResource("8_aoniw")]
position = Vector2(568, 24)
rotation = 3.14159
game_controller = NodePath("../..")

[connection signal="health_changed" from="Player" to="CanvasLayer/Control/HealthUI" method="_on_player_health_changed"]
